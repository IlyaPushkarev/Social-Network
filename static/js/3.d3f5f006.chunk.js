(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{295:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var s=a(7),n=a(23),r=a(24),o=a(26),l=a(25),c=a(0),i=a.n(c),u=a(34),_=a(10),m=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(o.a)(c,t);var a=Object(l.a)(c);function c(){return Object(n.a)(this,c),a.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){var t=Object(s.a)({},this.props);return t.isAuth?i.a.createElement(e,t):i.a.createElement(u.a,{to:"/login"})}}]),c}(i.a.Component);return Object(_.b)(m)(t)}},296:function(e,t,a){e.exports={content:"Profile_content__19eez",profile:"Profile_profile__yop5R"}},297:function(e,t,a){e.exports={userProfileInfo:"ProfileInfo_userProfileInfo__2g6he",userProfileDescription:"ProfileInfo_userProfileDescription__2se_q",userProfileDescription__header:"ProfileInfo_userProfileDescription__header__2qr3W",userProfileDescription__body:"ProfileInfo_userProfileDescription__body__1h1Ll",userAvatar:"ProfileInfo_userAvatar__2azAD",userInfo:"ProfileInfo_userInfo__1cpeN",userInfo__item:"ProfileInfo_userInfo__item__128A-",userInfo__userName:"ProfileInfo_userInfo__userName__26VVt",userInfo__about:"ProfileInfo_userInfo__about__1Qt2N",userInfo__contact:"ProfileInfo_userInfo__contact__2CEDw",contactWrapper:"ProfileInfo_contactWrapper__2HjUj",contact__name:"ProfileInfo_contact__name__3_8GK",contact__value:"ProfileInfo_contact__value__1AW23"}},298:function(e,t,a){e.exports={statusPanel:"ProfileStatus_statusPanel__2ZnOf",statusPanel__editor:"ProfileStatus_statusPanel__editor__1-Nfj",statusPanel__display:"ProfileStatus_statusPanel__display__cvXYM",unselectable:"ProfileStatus_unselectable__2Bn_K"}},299:function(e,t,a){e.exports={wrapper:"MyPosts_wrapper__2g5ro",postsBlock:"MyPosts_postsBlock__i5c4u",postNew:"MyPosts_postNew__3H0LI",header:"MyPosts_header__27Vam",postNew__body:"MyPosts_postNew__body__1JGMu",postsOld:"MyPosts_postsOld__3T8Xt"}},300:function(e,t,a){e.exports={item:"Post_item__3VMtS",estimate:"Post_estimate__2VLQ3"}},304:function(e,t,a){"use strict";a.r(t);var s=a(23),n=a(24),r=a(26),o=a(25),l=a(0),c=a.n(l),i=a(296),u=a.n(i),_=a(297),m=a.n(_),f=a(91),p=a(298),d=a.n(p),E=a(31),P=function(e){var t=Object(l.useState)(!1),a=Object(f.a)(t,2),s=a[0],n=a[1],r=Object(l.useState)(e.status),o=Object(f.a)(r,2),i=o[0],u=o[1];Object(l.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",{className:d.a.statusPanel},s?c.a.createElement("div",{className:d.a.statusPanel__editor},c.a.createElement("input",{type:"text",autoFocus:!0,value:i,onBlur:function(){return n(!1),void e.updateUserStatus(i)},onChange:function(e){u(e.target.value)}}),c.a.createElement(E.a,{text:"ADD status"})):c.a.createElement("div",{className:[d.a.statusPanel__display,d.a.unselectable].join(" ")},c.a.createElement("span",{onClick:function(){n(!0)}},e.status)))},v=function(e){if(e.profile){var t=function(e){var t=[];for(var a in e)e[a]&&t.push({name:a,value:e[a]});return t}(e.profile.contacts);return c.a.createElement("div",{className:m.a.userProfileInfo},c.a.createElement("div",{className:m.a.userProfileDescription},c.a.createElement("div",{className:m.a.userProfileDescription__header},c.a.createElement("h3",null,"User")),c.a.createElement("div",{className:m.a.userProfileDescription__body},c.a.createElement("div",{className:m.a.userAvatar},c.a.createElement("img",{src:e.profile.photos.large,alt:""})),c.a.createElement("div",{className:m.a.userInfo},c.a.createElement("div",{className:m.a.userInfo__userName},c.a.createElement("div",{className:m.a.userInfo__item},c.a.createElement("span",null,"Status: ")," ",c.a.createElement(P,{status:e.status,updateUserStatus:e.updateUserStatus})," ")),c.a.createElement("div",{className:m.a.userInfo__userName},c.a.createElement("div",{className:m.a.userInfo__item},c.a.createElement("span",null,"Username: "),e.profile.fullName)),c.a.createElement("div",{className:m.a.userInfo__about},c.a.createElement("div",{className:m.a.userInfo__item},c.a.createElement("span",null,"About me: "),e.profile.aboutMe)),c.a.createElement("div",{className:m.a.userInfo__contact},c.a.createElement("div",{className:m.a.userInfo__item},c.a.createElement("span",null,"Contact:"),t.map((function(e,t){return c.a.createElement("p",{className:m.a.contactWrapper,key:t},c.a.createElement("span",{className:m.a.contact__name},e.name,":"),c.a.createElement("span",{className:m.a.contact__value},c.a.createElement("a",{href:e.value},e.value)))}))))))))}},b=a(99),h=a(299),N=a.n(h),I=a(300),y=a.n(I),O=function(e){return c.a.createElement("div",{className:y.a.item},c.a.createElement("img",{src:e.photo,alt:""}),c.a.createElement("div",{className:"message"},e.message),c.a.createElement("div",{className:y.a.estimate},c.a.createElement("span",null,"Like: ",e.likeCount),c.a.createElement("span",null,"Dislike: ",e.dislikeCount)))},j=a(131),g=a(132),k=a(76),S=a(75),w=Object(k.a)(10),D=function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",null,c.a.createElement(j.a,{name:"newPost",component:S.b,placeholder:"create post",validate:[k.b,w]})),c.a.createElement("div",null,c.a.createElement(E.a,{onClick:e.handleSubmit,text:"ADD POST"})))},A=D=Object(g.a)({form:"post"})(D),C=c.a.memo((function(e){return c.a.createElement("div",{className:N.a.wrapper},c.a.createElement("div",{className:N.a.postNew},c.a.createElement("div",{className:N.a.header},c.a.createElement("h3",null,"Add new post")),c.a.createElement("div",{className:N.a.postNew__body},c.a.createElement(A,{onSubmit:function(t){e.addPost(t.newPost),t.newPost=""}}))),c.a.createElement("div",{className:N.a.postsOld},c.a.createElement("div",{className:N.a.header},c.a.createElement("h3",null,"My Posts")),c.a.createElement("div",{className:N.a.posts},e.posts.map((function(t){return c.a.createElement(O,{photo:e.profile.photos.small,message:t.message,likeCount:t.likesCount,dislikeCount:t.dislikeCount,key:t.id})})))))})),U=a(10),M=Object(U.b)((function(e){return{posts:e.profilePage.posts,newTextPost:e.profilePage.newTextPost}}),(function(e){return{addPost:function(t){e(Object(b.a)(t))}}}))(C),x=a(40),V=function(e){return e.profile?c.a.createElement("div",{className:u.a.content},c.a.createElement("div",{className:u.a.profile},c.a.createElement(v,Object.assign({profile:e.profile},e)),c.a.createElement(M,{profile:e.profile}))):c.a.createElement(x.a,null)},W=a(34),z=a(8),B=a(295),L=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return c.a.createElement(V,Object.assign({},this.props,{profile:this.props.profile}))}}]),a}(c.a.Component);t.default=Object(z.d)(Object(U.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id}}),{getUserProfile:b.d,getUserStatus:b.c,updateUserStatus:b.e}),W.f,B.a)(L)}}]);
//# sourceMappingURL=3.d3f5f006.chunk.js.map